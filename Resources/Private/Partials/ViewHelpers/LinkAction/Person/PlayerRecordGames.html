<html data-namespace-typo3-fluid="true"
      xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers">

<f:if condition="   {personProfile.detailLink} &&
                    {person.detailLink}">
    <f:then>
        <f:link.action action="recordGames"
                       arguments="{person: person, personProfile: personProfile}"
                       controller="Player" extensionName="Sportms"
                       pageUid="{settings.player.detail.pid}"
                       pluginName="PlayerDetail">
            <f:render section="label"
                      arguments="{personProfile: personProfile, linkLabel: linkLabel}"/>
        </f:link.action>
    </f:then>
    <f:else>
        <f:render section="label"
                  arguments="{personProfile: personProfile, linkLabel: linkLabel}"/>
    </f:else>
</f:if>

<f:section name="label">
    <f:switch expression="{linkLabel}">
        <f:case value="lastname">
            {personProfile.person.lastname}
        </f:case>
        <f:case value="name">
            {personProfile.person.firstname} {personProfile.person.lastname}
        </f:case>
        <f:defaultCase>
			<span>
				<f:translate
                        key="tx_sportms_action.person.playerrecordgames"/>
			</span>
        </f:defaultCase>
    </f:switch>
</f:section>

</html>